{% extends "student_base.html" %}

{% block title %}–û–±—É—á–µ–Ω–∏–µ - –£—á–µ–Ω–∏–∫{% endblock %}
{% block page_title %}–û–±—É—á–µ–Ω–∏–µ{% endblock %}

{% block content %}
<div class="row">
    <div class="col-12">
        <div class="card shadow-sm border-0 rounded-4">
            <div class="card shadow-sm border-0 rounded-4 mb-4">
                <div class="card-body p-4">
                    <div class="alert alert-info border-0 rounded-3">
                        <h4 class="alert-heading fw-bold">
                            <i class="bi bi-info-circle me-2"></i>{{ current_user.first_name }} {{ current_user.last_name }}
                        </h4>
                        <p class="mb-0">–ó–¥–µ—Å—å –≤—ã –º–æ–∂–µ—Ç–µ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–≤–æ–π —É—Ä–æ–≤–µ–Ω—å –∑–Ω–∞–Ω–∏–π –ø–æ —Ç–µ–º–µ "–ê—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–∏–µ –¥–µ–π—Å—Ç–≤–∏—è —Å –¥—Ä–æ–±—è–º–∏"</p>
                    </div>
                </div>
            </div>
            <div class="card-body p-4">
                <h3 class="fw-bold mb-4">üìö –£—á–µ–±–Ω—ã–π –ø–ª–∞–Ω</h3>
                
                <!-- –í—Ö–æ–¥–Ω–æ–π –∫–æ–Ω—Ç—Ä–æ–ª—å -->
                <div class="list-group mb-4">
                    <div class="list-group-item {% if progress.initial_test_completed %}bg-success bg-opacity-10{% else %}border-0{% endif %} rounded-3 mb-2 p-3 shadow-sm">
                        <div class="d-flex w-100 justify-content-between align-items-center">
                            <div>
                                <h5 class="mb-1 fw-bold">üîπ –°—Ç–∞—Ä—Ç–æ–≤–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞</h5>
                                <p class="mb-1 text-gray-600">–ü—Ä–æ–≤–µ—Ä–∏–º, —á—Ç–æ —Ç—ã —É–∂–µ –∑–Ω–∞–µ—à—å –ø–æ —Ç–µ–º–µ!</p>
                                {% if progress.initial_test_completed %}
                                <div class="text-success mt-2">
                                    <i class="bi bi-check-circle-fill"></i> –ó–∞–≤–µ—Ä—à–µ–Ω–æ
                                </div>
                                <div class="mt-2">
                                    <a href="{{ url_for('student.initial_assessment_details') }}" class="btn btn-outline-primary btn-sm">
                                        <i class="bi bi-eye-fill me-1"></i>–î–µ—Ç–∞–ª–∏ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è
                                    </a>
                                </div>
                                {% endif %}
                            </div>
                            <div class="d-flex align-items-center">
                                <span class="badge {% if progress.initial_test_completed %}bg-secondary{% else %}bg-indigo-200 text-indigo-800{% endif %} rounded-pill px-3 py-2 me-3">
                                    12 –∑–∞–¥–∞–Ω–∏–π
                                </span>
                                {% if not progress.initial_test_completed %}
                                <a href="{{ url_for('student.assessment') }}" class="btn btn-primary-custom btn-sm px-3 py-1">
                                    –ù–∞—á–∞—Ç—å <i class="bi bi-arrow-right ms-1"></i>
                                </a>
                                {% else %}
                                <button class="btn btn-outline-secondary btn-sm px-3 py-1" disabled>
                                    –ó–∞–≤–µ—Ä—à–µ–Ω–æ
                                </button>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                </div>

                <!-- –ò–∑—É—á–µ–Ω–∏–µ -->
                <div class="list-group mb-4">
                    <div class="list-group-item {% if not progress.initial_test_completed %}bg-light{% else %}bg-success bg-opacity-10{% endif %} rounded-3 mb-2 p-3 shadow-sm">
                        <div class="d-flex w-100 justify-content-between align-items-center">
                            <div>
                                <h5 class="mb-1 fw-bold">üîπ –£—á–∏–º –∏ –∑–∞–ø–æ–º–∏–Ω–∞–µ–º</h5>
                                <p class="mb-1 text-gray-600">–ó–¥–µ—Å—å —Ç—ã –Ω–∞–π–¥—ë—à—å –≤—Å—ë, —á—Ç–æ–±—ã —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è –≤ —Ç–µ–º–µ</p>
                                {% if progress.learning_completed %}
                                <div class="text-success mt-2">
                                    <i class="bi bi-check-circle-fill"></i> –û–±—É—á–µ–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ
                                </div>
                                {% endif %}
                            </div>
                            <div class="d-flex align-items-center">
                                <span class="badge {% if not progress.initial_test_completed %}bg-light text-secondary{% else %}bg-indigo-200 text-indigo-800{% endif %} rounded-pill px-3 py-2 me-3">
                                    5 —Ä–∞–∑–¥–µ–ª–æ–≤
                                </span>
                                {% if progress.initial_test_completed %}
                                <a href="{{ url_for('student.learning_materials') }}" class="btn btn-primary-custom btn-sm px-3 py-1">
                                                    {% if progress.learning_completed %}
                                                        –ü–æ–≤—Ç–æ—Ä–∏—Ç—å <i class="bi bi-arrow-repeat ms-1"></i>
                                                    {% else %}
                                                        –ù–∞—á–∞—Ç—å <i class="bi bi-arrow-right ms-1"></i>
                                                    {% endif %}
                                                </a>
                                {% else %}
                                <button class="btn btn-outline-secondary btn-sm px-3 py-1" disabled>
                                    –°–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–π–¥–∏—Ç–µ –≤—Ö–æ–¥–Ω–æ–π –∫–æ–Ω—Ç—Ä–æ–ª—å
                                </button>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                </div>

                <!-- –í—ã—Ö–æ–¥–Ω–æ–π –∫–æ–Ω—Ç—Ä–æ–ª—å -->
                <div class="list-group">
                    <div class="list-group-item {% if not progress.learning_completed %}bg-light{% elif progress.final_test_completed %}bg-success bg-opacity-10{% else %}border-0{% endif %} rounded-3 mb-2 p-3 shadow-sm">
                        <div class="d-flex w-100 justify-content-between align-items-center">
                            <div>
                                <h5 class="mb-1 fw-bold">üîπ –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞</h5>
                                <p class="mb-1 text-gray-600">–ü—Ä–æ–≤–µ—Ä–∏–º, –∫–∞–∫ —Ö–æ—Ä–æ—à–æ —Ç—ã —É—Å–≤–æ–∏–ª –º–∞—Ç–µ—Ä–∏–∞–ª!</p>
                                {% if progress.final_test_completed %}
                                <div class="text-success mt-2">
                                    <i class="bi bi-check-circle-fill"></i> –ó–∞–≤–µ—Ä—à–µ–Ω–æ
                                </div>
                                <div class="mt-2">
                                    <a href="{{ url_for('student.final_assessment_details') }}" class="btn btn-outline-primary btn-sm">
                                        <i class="bi bi-eye-fill me-1"></i>–î–µ—Ç–∞–ª–∏ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è
                                    </a>
                                </div>
                                {% endif %}
                            </div>
                            <div class="d-flex align-items-center">
                                <span class="badge {% if not progress.learning_completed %}bg-light text-secondary{% elif progress.final_test_completed %}bg-secondary{% else %}bg-indigo-200 text-indigo-800{% endif %} rounded-pill px-3 py-2 me-3">
                                    12 –∑–∞–¥–∞–Ω–∏–π
                                </span>
                                {% if progress.learning_completed and not progress.final_test_completed %}
                                <a href="{{ url_for('student.final_assessment') }}" class="btn btn-primary-custom btn-sm px-3 py-1">
                                    –ù–∞—á–∞—Ç—å <i class="bi bi-arrow-right ms-1"></i>
                                </a>
                                {% elif not progress.learning_completed %}
                                <button class="btn btn-outline-secondary btn-sm px-3 py-1" disabled>
                                    –°–Ω–∞—á–∞–ª–∞ –∏–∑—É—á–∏—Ç–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã
                                </button>
                                {% else %}
                                <button class="btn btn-outline-secondary btn-sm px-3 py-1" disabled>
                                    –ó–∞–≤–µ—Ä—à–µ–Ω–æ
                                </button>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
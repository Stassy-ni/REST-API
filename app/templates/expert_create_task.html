{% extends "expert_base.html" %}

{% block title %}Создать задание - Эксперт{% endblock %}
{% block page_title %}Генератор заданий{% endblock %}

{% block content %}
<div class="container-fluid">
    <div class="card shadow-sm border-0 rounded-4 mb-4">
        <div class="card-body">
            <h3 class="card-title mb-4">Генератор задач по дробям</h3>
            
            <div class="row mb-4">
                <div class="col-md-6">
                    <label class="form-label">Категория:</label>
                    <select id="task-category" class="form-select">
                        <option value="addition">Сложение дробей</option>
                        <option value="subtraction">Вычитание дробей</option>
                        <option value="multiplication">Умножение дробей</option>
                        <option value="division">Деление дробей</option>
                    </select>
                </div>
                <div class="col-md-6">
                    <label class="form-label">Сложность:</label>
                    <select id="task-difficulty" class="form-select">
                        <option value="easy">Легкая</option>
                        <option value="medium">Средняя</option>
                        <option value="hard">Сложная</option>
                    </select>
                </div>
            </div>
            
            <button id="generate-task-btn" class="btn btn-primary-custom">
                Сгенерировать задание
            </button>
            
            <div id="loading-indicator" class="mt-3" style="display: none;">
                <div class="spinner-border text-primary" role="status">
                    <span class="visually-hidden">Загрузка...</span>
                </div>
                <span class="ms-2">Генерация задания...</span>
            </div>
        </div>
    </div>
    
    <div class="row">
        <div class="col-md-6">
            <div class="card shadow-sm border-0 rounded-4 h-100">
                <div class="card-header bg-white border-bottom">
                    <h5 class="mb-0">Задание</h5>
                </div>
                <div class="card-body">
                    <div id="task-content" class="task-content"></div>
                </div>
            </div>
        </div>
        
        <div class="col-md-6">
            <div class="card shadow-sm border-0 rounded-4 h-100">
                <div class="card-header bg-white border-bottom">
                    <h5 class="mb-0">Ответ</h5>
                </div>
                <div class="card-body">
                    <div id="answer-content" class="task-content"></div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="d-flex justify-content-end gap-3 mt-4">
        <button id="reject-task-btn" class="btn btn-outline-secondary" disabled>
            Отклонить
        </button>
        <button id="save-task-btn" class="btn btn-primary-custom" disabled>
            Сохранить задание
        </button>
    </div>
</div>

<!-- Подключаем MathJax для формул -->
<script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>

<!-- Подключаем наш скрипт -->
<script src="{{ url_for('static', filename='js/expert_task_generator.js') }}"></script>
{% endblock %}